@import 'tailwindcss';

/* ============================================
   NUTRITION APP BRAND SYSTEM
   Paper-inspired, minimalist design language

   SINGLE SOURCE OF TRUTH
   - All color values defined in :root
   - @theme inline references these for Tailwind utilities
   - Change colors once, updates everywhere
   ============================================ */

:root {
    /* === SEMANTIC COLORS (Shadcn/UI - HSL format for alpha support) === */
    --background: 39 33% 99%;        /* #fdfcf8 - Warm white (aged paper) */
    --foreground: 60 4% 17%;         /* #2d2d2a - Almost black */
    --card: 0 0% 100%;               /* #ffffff - Pure white (elevated) */
    --card-foreground: 60 4% 17%;    /* #2d2d2a */
    
    --popover: 0 0% 100%;
    --popover-foreground: 60 4% 17%;

    /* === PRIMARY (Sage Green - Health/Growth) === */
    --primary: 120 14% 54%;          /* #7a9b7a */
    --primary-foreground: 0 0% 100%;

    /* === SECONDARY (Terracotta - Energy/Warmth) === */
    --secondary: 20 51% 63%;         /* #d4906f */
    --secondary-foreground: 0 0% 100%;

    /* === MUTED (Subtle backgrounds) === */
    --muted: 43 25% 91%;             /* #edeae0 - Light tan */
    --muted-foreground: 50 3% 37%;   /* #5f5f57 - Warm gray */

    /* === ACCENT (Dusty Blue - Trust/Data) === */
    --accent: 206 24% 54%;           /* #6b8fa8 */
    --accent-foreground: 0 0% 100%;

    /* === DESTRUCTIVE (Error states) === */
    --destructive: 0 36% 61%;        /* #c77070 */
    --destructive-foreground: 0 0% 100%;

    /* === BORDERS & INPUTS === */
    --border: 43 18% 86%;            /* #e3e1d6 */
    --input: 43 18% 86%;
    --ring: 120 14% 54%;             /* Same as primary */

    /* === RADIUS === */
    --radius: 0.5rem;

    /* === CHART COLORS (Nutrition themed) === */
    --chart-1: 120 14% 54%;          /* Sage - Protein */
    --chart-2: 20 51% 63%;           /* Terracotta - Carbs */
    --chart-3: 206 24% 54%;          /* Blue - Fat */
    --chart-4: 45 80% 60%;           /* Gold - Calories */
    --chart-5: 340 50% 65%;          /* Rose - Goals */

    /* === SIDEBAR (if needed) === */
    --sidebar: 39 33% 97%;           /* Slightly darker paper */
    --sidebar-foreground: 60 4% 17%;
    --sidebar-primary: 120 14% 54%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 43 25% 91%;
    --sidebar-accent-foreground: 60 4% 17%;
    --sidebar-border: 43 18% 86%;
    --sidebar-ring: 120 14% 54%;

    /* === BRAND COLORS (Hex format for Tailwind utilities) === */
    /* Paper tones */
    --brand-paper-hex: #fdfcf8;
    --brand-cream-hex: #f5f3ec;
    --brand-tan-hex: #edeae0;

    /* Sage green variants */
    --brand-sage-hex: #7a9b7a;
    --brand-sage-light-hex: #e8f0e8;
    --brand-sage-muted-hex: #d4e4d4;
    --brand-sage-dark-hex: #6b8a6b;
    --brand-sage-subtle-hex: #f4f8f4;

    /* Terracotta variants */
    --brand-terracotta-hex: #d4906f;
    --brand-terracotta-light-hex: #f9ede7;
    --brand-terracotta-dark-hex: #c37d5c;
    --brand-terracotta-subtle-hex: #fdf7f4;

    /* Blue variants */
    --brand-blue-hex: #6b8fa8;
    --brand-blue-light-hex: #e7eff4;
    --brand-blue-dark-hex: #5a7d94;
    --brand-blue-subtle-hex: #f3f7fa;

    /* === SEMANTIC COLORS === */
    --success: 120 20% 52%;
    --success-light: 120 30% 94%;
    --success-border: 120 25% 80%;
    --warning: 35 50% 57%;
    --warning-light: 40 50% 95%;
    --warning-border: 40 40% 80%;
    --error: 0 36% 61%;
    --error-light: 0 40% 95%;
    --error-border: 0 30% 80%;
    --info: 206 24% 54%;
    --info-light: 206 30% 94%;
    --info-border: 206 25% 80%;
}

.dark {
    /* Dark mode - keeping paper metaphor with darker tones */
    --background: 40 10% 10%;
    --foreground: 40 20% 90%;
    --card: 40 10% 14%;
    --card-foreground: 40 20% 90%;
    --popover: 40 10% 14%;
    --popover-foreground: 40 20% 90%;
    --primary: 120 20% 60%;
    --primary-foreground: 40 10% 10%;
    --secondary: 20 40% 55%;
    --secondary-foreground: 0 0% 100%;
    --muted: 40 10% 20%;
    --muted-foreground: 40 10% 65%;
    --accent: 206 30% 55%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 50% 55%;
    --destructive-foreground: 0 0% 100%;
    --border: 40 10% 20%;
    --input: 40 10% 20%;
    --ring: 120 20% 60%;
}

/* ============================================
   TAILWIND UTILITY GENERATION
   Tell Tailwind to create utilities from our brand colors
   ============================================ */

@theme inline {
    /* Brand colors - Paper tones */
    --color-brand-paper: var(--brand-paper-hex);
    --color-brand-cream: var(--brand-cream-hex);
    --color-brand-tan: var(--brand-tan-hex);

    /* Brand colors - Sage green */
    --color-brand-sage: var(--brand-sage-hex);
    --color-brand-sage-light: var(--brand-sage-light-hex);
    --color-brand-sage-muted: var(--brand-sage-muted-hex);
    --color-brand-sage-dark: var(--brand-sage-dark-hex);
    --color-brand-sage-subtle: var(--brand-sage-subtle-hex);

    /* Brand colors - Terracotta */
    --color-brand-terracotta: var(--brand-terracotta-hex);
    --color-brand-terracotta-light: var(--brand-terracotta-light-hex);
    --color-brand-terracotta-dark: var(--brand-terracotta-dark-hex);
    --color-brand-terracotta-subtle: var(--brand-terracotta-subtle-hex);

    /* Brand colors - Blue */
    --color-brand-blue: var(--brand-blue-hex);
    --color-brand-blue-light: var(--brand-blue-light-hex);
    --color-brand-blue-dark: var(--brand-blue-dark-hex);
    --color-brand-blue-subtle: var(--brand-blue-subtle-hex);
}

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    border-color: hsl(var(--border));
  }
  
  html {
    @apply scroll-smooth;
  }
  
  body {
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    @apply antialiased;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }

  /* Remove default body centering from Vite template */
  #root {
    min-height: 100vh;
    width: 100%;
  }
}

/* ============================================
   TYPOGRAPHY SCALE
   ============================================ */

@layer base {
  h1 {
    @apply text-2xl font-semibold tracking-tight;
    letter-spacing: -0.01em;
  }

  h2 {
    @apply text-xl font-semibold;
    letter-spacing: -0.005em;
  }

  h3 {
    @apply text-base font-semibold;
  }

  p {
    @apply text-sm leading-relaxed;
  }
}

/* ============================================
   CUSTOM UTILITIES
   ============================================ */

@layer utilities {
  /* Soft shadows (paper-inspired depth) */
  .shadow-soft {
    box-shadow: 0 1px 2px hsl(60 4% 17% / 0.04);
  }
  
  .shadow-soft-md {
    box-shadow: 
      0 2px 8px hsl(60 4% 17% / 0.08),
      0 1px 2px hsl(60 4% 17% / 0.04);
  }
  
  .shadow-soft-lg {
    box-shadow: 
      0 4px 16px hsl(60 4% 17% / 0.08),
      0 1px 4px hsl(60 4% 17% / 0.04);
  }

  .shadow-soft-xl {
    box-shadow: 
      0 8px 24px hsl(60 4% 17% / 0.12),
      0 2px 6px hsl(60 4% 17% / 0.08);
  }

  /* Hover lift effect */
  .hover-lift {
    @apply transition-all duration-200;
  }

  .hover-lift:hover {
    @apply -translate-y-0.5;
    box-shadow: 0 2px 8px hsl(60 4% 17% / 0.08), 0 1px 2px hsl(60 4% 17% / 0.04);
  }

  /* Brand gradients */
  .gradient-sage {
    background: linear-gradient(135deg, hsl(120 14% 54%) 0%, hsl(120 20% 45%) 100%);
  }

  .gradient-warm {
    background: linear-gradient(135deg, hsl(20 51% 63%) 0%, hsl(30 55% 55%) 100%);
  }

  /* Status backgrounds */
  .bg-success-subtle {
    background-color: hsl(var(--success-light));
  }
  
  .bg-warning-subtle {
    background-color: hsl(var(--warning-light));
  }
  
  .bg-error-subtle {
    background-color: hsl(var(--error-light));
  }

  /* Touch-friendly sizing */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* ============================================
   COMPONENT OVERRIDES
   ============================================ */

@layer components {
  /* Card hover states */
  .card-interactive {
    @apply transition-all duration-200 cursor-pointer;
  }
  
  .card-interactive:hover {
    border-color: hsl(var(--border) / 0.8);
    @apply -translate-y-0.5;
    box-shadow: 0 2px 8px hsl(60 4% 17% / 0.08), 0 1px 2px hsl(60 4% 17% / 0.04);
  }

  /* Stat card styling */
  .stat-card {
    background-color: hsl(var(--card));
    @apply rounded-xl border p-4;
    box-shadow: 0 1px 2px hsl(60 4% 17% / 0.04);
  }

  /* Progress ring styling */
  .progress-ring {
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
  }

  /* Bottom navigation safe area */
  .pb-safe {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  /* Page container */
  .page-container {
    @apply container mx-auto px-4 py-6 pb-24;
  }

  /* Section spacing */
  .section-gap {
    @apply space-y-6;
  }

  /* Form field spacing */
  .form-gap {
    @apply space-y-4;
  }
}

/* ============================================
   ANIMATIONS
   ============================================ */

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slide-up {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out;
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

.animate-slide-in {
  animation: slide-in 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

/* Staggered children animation */
.stagger-children > * {
  animation: slide-up 0.3s ease-out backwards;
}

.stagger-children > *:nth-child(1) { animation-delay: 0ms; }
.stagger-children > *:nth-child(2) { animation-delay: 50ms; }
.stagger-children > *:nth-child(3) { animation-delay: 100ms; }
.stagger-children > *:nth-child(4) { animation-delay: 150ms; }
.stagger-children > *:nth-child(5) { animation-delay: 200ms; }
.stagger-children > *:nth-child(6) { animation-delay: 250ms; }

/* Step number gradient (for recipe instructions) */
.step-number {
  background: linear-gradient(135deg, #7a9b7a 0%, #6b8fa8 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Print styles */
.print-hidden {
  display: block;
}

@media print {
  .print-hidden {
    display: none !important;
  }

  .recipe-content {
    max-width: 100% !important;
  }

  /* Ensure good print layout */
  .animate-fade-in,
  .animate-slide-in,
  .animate-slide-up {
    animation: none !important;
  }
}